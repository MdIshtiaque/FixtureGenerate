<?php

$fixtures = [
    [
        ["team1" => 11, "team2" => 1, "court" => 1, "time" => "09:20"],
        ["team1" => 10, "team2" => 2, "court" => 2, "time" => "09:20"],
        ["team1" => 5, "team2" => 13, "court" => 1, "time" => "10:20"],
        ["team1" => 9, "team2" => 6, "court" => 2, "time" => "10:20"],
        ["team1" => 7, "team2" => 4, "court" => 1, "time" => "11:20"],
        ["team1" => 12, "team2" => 7, "court" => 2, "time" => "11:20"],
        ["team1" => 9, "team2" => 7, "court" => 1, "time" => "12:20"],
        ["team1" => 10, "team2" => 8, "court" => 2, "time" => "12:20"],
        ["team1" => 9, "team2" => 12, "court" => 1, "time" => "13:20"],
        ["team1" => 4, "team2" => 6, "court" => 2, "time" => "13:20"],
        ["team1" => 8, "team2" => 4, "court" => 1, "time" => "14:20"],
        ["team1" => 6, "team2" => 10, "court" => 2, "time" => "14:20"],
        ["team1" => 3, "team2" => 13, "court" => 1, "time" => "15:20"],
        ["team1" => 11, "team2" => 8, "court" => 2, "time" => "15:20"],
        ["team1" => 5, "team2" => 3, "court" => 1, "time" => "16:20"],
        ["team1" => 5, "team2" => 2, "court" => 2, "time" => "16:20"],
        ["team1" => 12, "team2" => 11, "court" => 1, "time" => "09:20"]
    ],
    [
        ["team1" => 11, "team2" => 5, "court" => 1, "time" => "09:20"],
        ["team1" => 3, "team2" => 7, "court" => 2, "time" => "09:20"],
        ["team1" => 6, "team2" => 9, "court" => 1, "time" => "10:20"],
        ["team1" => 13, "team2" => 12, "court" => 2, "time" => "10:20"],
        ["team1" => 10, "team2" => 7, "court" => 1, "time" => "11:20"],
        ["team1" => 9, "team2" => 2, "court" => 2, "time" => "11:20"],
        ["team1" => 8, "team2" => 2, "court" => 1, "time" => "12:20"],
        ["team1" => 4, "team2" => 10, "court" => 2, "time" => "12:20"],
        ["team1" => 7, "team2" => 11, "court" => 1, "time" => "13:20"],
        ["team1" => 11, "team2" => 4, "court" => 2, "time" => "13:20"],
        ["team1" => 1, "team2" => 4, "court" => 1, "time" => "14:20"],
        ["team1" => 12, "team2" => 3, "court" => 2, "time" => "14:20"],
        ["team1" => 8, "team2" => 6, "court" => 1, "time" => "15:20"],
        ["team1" => 8, "team2" => 5, "court" => 2, "time" => "15:20"],
        ["team1" => 1, "team2" => 5, "court" => 1, "time" => "16:20"],
        ["team1" => 9, "team2" => 13, "court" => 2, "time" => "16:20"],
        ["team1" => 3, "team2" => 11, "court" => 1, "time" => "09:20"],
        ["team1" => 13, "team2" => 11, "court" => 1, "time" => "10:20"]
    ],
    [
        ["team1" => 8, "team2" => 9, "court" => 1, "time" => "09:20"],
        ["team1" => 7, "team2" => 2, "court" => 2, "time" => "09:20"],
        ["team1" => 4, "team2" => 3, "court" => 1, "time" => "10:20"],
        ["team1" => 5, "team2" => 9, "court" => 2, "time" => "10:20"],
        ["team1" => 4, "team2" => 8, "court" => 1, "time" => "11:20"],
        ["team1" => 4, "team2" => 11, "court" => 2, "time" => "11:20"],
        ["team1" => 11, "team2" => 10, "court" => 1, "time" => "12:20"],
        ["team1" => 8, "team2" => 1, "court" => 2, "time" => "12:20"],
        ["team1" => 7, "team2" => 13, "court" => 1, "time" => "13:20"],
        ["team1" => 9, "team2" => 11, "court" => 2, "time" => "13:20"],
        ["team1" => 13, "team2" => 1, "court" => 1, "time" => "14:20"],
        ["team1" => 1, "team2" => 5, "court" => 2, "time" => "14:20"],
        ["team1" => 13, "team2" => 10, "court" => 1, "time" => "15:20"],
        ["team1" => 5, "team2" => 12, "court" => 2, "time" => "15:20"],
        ["team1" => 7, "team2" => 10, "court" => 1, "time" => "16:20"],
        ["team1" => 3, "team2" => 2, "court" => 2, "time" => "16:20"]
    ],
    [
        ["team1" => 5, "team2" => 6, "court" => 1, "time" => "09:20"],
        ["team1" => 3, "team2" => 11, "court" => 2, "time" => "09:20"],
        ["team1" => 13, "team2" => 5, "court" => 1, "time" => "10:20"],
        ["team1" => 11, "team2" => 1, "court" => 2, "time" => "10:20"],
        ["team1" => 3, "team2" => 5, "court" => 1, "time" => "11:20"],
        ["team1" => 2, "team2" => 1, "court" => 2, "time" => "11:20"],
        ["team1" => 8, "team2" => 9, "court" => 1, "time" => "12:20"],
        ["team1" => 8, "team2" => 3, "court" => 2, "time" => "12:20"],
        ["team1" => 6, "team2" => 8, "court" => 1, "time" => "13:20"],
        ["team1" => 6, "team2" => 1, "court" => 2, "time" => "13:20"],
        ["team1" => 7, "team2" => 11, "court" => 1, "time" => "14:20"],
        ["team1" => 2, "team2" => 9, "court" => 2, "time" => "14:20"],
        ["team1" => 9, "team2" => 4, "court" => 1, "time" => "15:20"],
        ["team1" => 7, "team2" => 4, "court" => 2, "time" => "15:20"],
        ["team1" => 7, "team2" => 2, "court" => 1, "time" => "16:20"],
        ["team1" => 12, "team2" => 10, "court" => 2, "time" => "16:20"]
    ],
    [
        ["team1" => 10, "team2" => 13, "court" => 1, "time" => "09:20"],
        ["team1" => 5, "team2" => 10, "court" => 2, "time" => "09:20"],
        ["team1" => 4, "team2" => 5, "court" => 1, "time" => "10:20"],
        ["team1" => 2, "team2" => 1, "court" => 2, "time" => "10:20"],
        ["team1" => 4, "team2" => 2, "court" => 1, "time" => "11:20"],
        ["team1" => 10, "team2" => 8, "court" => 2, "time" => "11:20"],
        ["team1" => 7, "team2" => 2, "court" => 1, "time" => "12:20"],
        ["team1" => 8, "team2" => 5, "court" => 2, "time" => "12:20"],
        ["team1" => 3, "team2" => 9, "court" => 1, "time" => "13:20"],
        ["team1" => 6, "team2" => 9, "court" => 2, "time" => "13:20"],
        ["team1" => 12, "team2" => 6, "court" => 1, "time" => "14:20"],
        ["team1" => 13, "team2" => 6, "court" => 2, "time" => "14:20"],
        ["team1" => 12, "team2" => 4, "court" => 1, "time" => "15:20"],
        ["team1" => 9, "team2" => 8, "court" => 2, "time" => "15:20"],
        ["team1" => 12, "team2" => 10, "court" => 1, "time" => "15:20"]
    ]
];

// Initialize counters
$teamGamesCount = array_fill(1, 13, 0);
$dailyGames = [];

foreach ($fixtures as $dayIndex => $dayFixtures) {
    $dailyCount = array_fill(1, 13, 0);
    foreach ($dayFixtures as $game) {
        $team1 = $game['team1'];
        $team2 = $game['team2'];
        if ($team1 !== null) {
            $teamGamesCount[$team1]++;
            $dailyCount[$team1]++;
        }
        if ($team2 !== null) {
            $teamGamesCount[$team2]++;
            $dailyCount[$team2]++;
        }
    }
    $dailyGames[] = $dailyCount;
}

// Verify minimum 2 games per team per day
$minGamesPerDay = true;
foreach ($dailyGames as $dayIndex => $dailyCount) {
    foreach ($dailyCount as $team => $count) {
        if ($count < 2) {
            echo "Day " . ($dayIndex + 1) . ": Team $team does not have at least 2 games.\n";
            $minGamesPerDay = false;
        }
    }
}

if ($minGamesPerDay) {
    echo "All teams have at least 2 games per day.\n";
}

// Verify each team plays exactly 3 games on 2 dates
$teamThreeGames = array_fill(1, 13, 0);
foreach ($dailyGames as $dayCount) {
    foreach ($dayCount as $team => $count) {
        if ($count == 3) {
            $teamThreeGames[$team]++;
        }
    }
}

$threeGamesExact = true;
foreach ($teamThreeGames as $team => $daysWithThreeGames) {
    if ($daysWithThreeGames != 2) {
        echo "Team $team does not play exactly 3 games on 2 dates.\n";
        $threeGamesExact = false;
    }
}

if ($threeGamesExact) {
    echo "All teams play exactly 3 games on 2 dates.\n";
}

// Print team games count for verification
print_r($teamGamesCount);
